<?xml  version="1.0" encoding="gbk" ?>
<blueprint_setting kinds="hide" desc="setting for blueprint editor" is_file_info="true">
	<hide_children>
		<node>msg_handler_node</node>
		<node>func_node</node>
		<node>event_callback_node</node>
		<node>moduleInfo</node>
	</hide_children>
</blueprint_setting>
<moduleInfo name="模块信息" expand_list="moduleName,out_file,script_with_debug,user_define_enum,script_out_encode,Author,LastMod" expand_stat="1" is_file_info="true">
	<moduleName name="模块名" kinds="string">apollo_script</moduleName>
	<out_file name="输出文件" kinds="out_file">../../data/apollo_script.bin</out_file>
	<script_with_debug name="调试信息" kinds="bool">0</script_with_debug>
	<user_define_enum name="用户定义类型表" kinds="in_file">../cfg/userDefList.xml</user_define_enum>
	<script_out_encode name="输出编码" kinds="reference" reference_type="type_encode">1</script_out_encode>
	<Author name="作者" kinds="string">duan</Author>
	<LastMod name="最后修改" kinds="string">2016-4-19</LastMod>
	<PreCmd name="预先编译模块" kinds="hide" delete="no" create_template="create_func" auto_index="2" expand_stat="1">
		<func_node name="check_timeout" create_template="create_list1" auto_index="7" expand_list="comment" enable_drag="yes" expand_stat="1">
			<comment>函数说明</comment>
			<op_get_compile_time name="节点_获得脚本编译时间0" expand="yes">
				<comment name="功能说明" rw_stat="read">get_compile_time()</comment>
			</op_get_compile_time>
			<op_time_function name="节点_时间计算1" expand="yes">
				<comment name="功能说明" rw_stat="read">time_fun(cmd, unit, time1, val)</comment>
				<varInt name="操作类型" kinds="reference" reference_type="type_time_cmd" delete="no">1</varInt>
				<varInt name="时间单位" kinds="reference" reference_type="type_time_unit" delete="no">3</varInt>
				<param_collect name="参数1" expand="yes" expand_stat="1" delete="no">
					<type name="参数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="参数1值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数2" expand="yes" expand_stat="1" delete="no">
					<type name="参数2类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var name="参数2值" kinds="string" delete="no" restrict="type">30</var>
				</param_collect>
			</op_time_function>
			<op_make_var name="节点_申明变量3" expand="yes">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">timeoutTm</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_get_time name="节点_时间2" expand="yes">
				<comment name="功能说明" rw_stat="read">get_time()</comment>
			</op_get_time>
			<op_comp name="节点_逻辑运算5" expand="yes">
				<comment name="功能说明" rw_stat="read"> 大于小于等级 </comment>
				<index name="逻辑运算" kinds="reference" reference_type="type_compare_sub_entry" delete="no">5</index>
				<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
					<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="操作数1值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
					<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="操作数2值" kinds="string" delete="no" restrict="type">timeoutTm</var>
				</param_collect>
			</op_comp>
			<op_bool_entry name="节点_bool上一步结果分支6" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">if{}</comment>
				<op_sub_comp_entry name="上一步true时执行" create_template="create_list1" delete="no" comp_cond="condition" auto_index="3" expand_stat="1">
					<condition no_comp="1" kinds="hide" delete="no">1</condition>
					<op_log name="节点_日志2" create_template="create_input_param" auto_index="1" expand_list="comment" expand_stat="1">
						<comment name="功能说明" rw_stat="read">log(...)</comment>
						<param_collect name="参数0" expand="yes">
							<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
							<var kinds="string" delete="no" restrict="type">time out , maybe you need restart</var>
						</param_collect>
					</op_log>
					<op_exit name="节点_退出1" expand="yes">
						<comment name="功能说明" rw_stat="read">op_exit(value)</comment>
						<num name="返回结果" kinds="user_define" user_param="error_list" delete="no">0</num>
					</op_exit>
				</op_sub_comp_entry>
				<op_sub_comp_entry name="上一步false时执行" create_template="create_list1" delete="no" comp_cond="condition" auto_index="0">
					<condition no_comp="1" kinds="hide" delete="no">0</condition>
				</op_sub_comp_entry>
			</op_bool_entry>
		</func_node>
	</PreCmd>
</moduleInfo>
<baseFunction name="基本功能" delete="no" create_template="create_func" auto_index="16" expand_stat="0">
	<func_node name="FUNCTION_TEST" create_template="create_list1" auto_index="22" expand_list="comment" enable_drag="yes" expand_stat="0">
		<comment>函数说明: 普通测试</comment>
		<op_print name="节点_打印0" create_template="create_input_param" auto_index="2" expand_stat="0">
			<param_collect name="参数0" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">hello world!111</var>
			</param_collect>
			<param_collect name="参数1" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">8</type>
				<var kinds="string" delete="no" restrict="type">1992-2-29 18:30:00</var>
			</param_collect>
		</op_print>
		<op_throw name="节点_抛出异常18" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">op_throw(value)</comment>
			<num name="错误编号" kinds="numeral" delete="no">100</num>
		</op_throw>
		<op_make_var name="节点_申明变量3" expand="yes" expand_stat="1">
			<param name="名字" kinds="string" delete="no">var1</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="初始只" kinds="string" delete="no" restrict="type">1</var>
		</op_make_var>
		<op_loop_entry name="节点_循环2" create_template="create_list2" expand_list="condition" auto_index="3" comp_cond="condition" expand_stat="1">
			<condition name="loop_count">
				<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var kinds="string" delete="no" restrict="type">10</var>
			</condition>
			<op_print name="节点_打印0" create_template="create_input_param" auto_index="2" expand_stat="0">
				<param_collect name="参数0" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var kinds="string" delete="no" restrict="type">hello world</var>
				</param_collect>
				<param_collect name="参数1" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var1</var>
				</param_collect>
			</op_print>
			<op_calc name="节点_公式1" expand="yes" expand_stat="1">
				<param name="公式内容" kinds="string">var1 + 1</param>
			</op_calc>
		</op_loop_entry>
		<op_read name="节点_读取6" expand="yes" expand_stat="1">
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">hp</var>
			</param_collect>
		</op_read>
		<op_make_var name="节点_申明变量7" expand="yes" expand_stat="1">
			<param name="名字" kinds="string" delete="no">var2</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="初始只" kinds="string" delete="no" restrict="type">0</var>
		</op_make_var>
		<op_calc name="节点_公式8" expand="yes" expand_stat="1">
			<param name="公式内容" kinds="string">var2 * 0.5</param>
		</op_calc>
		<op_write name="节点_写入11" expand="yes" expand_stat="1">
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">hp</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="结果" kinds="string" delete="no" restrict="type">none</var>
		</op_write>
		<op_get_compile_time name="节点_获得脚本编译时间14" expand="yes">
			<comment name="功能" rw_stat="read">get_compile_time()</comment>
		</op_get_compile_time>
		<op_make_var name="节点_申明变量15" expand="yes" expand_stat="1">
			<comment name="功能" rw_stat="read">create_variant(name,value)</comment>
			<param name="名字" kinds="string" delete="no">var_compile_tm</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
		</op_make_var>
		<op_get_time name="节点_时间16" expand="yes" expand_stat="0">
			<comment name="功能" rw_stat="read">get_time()</comment>
		</op_get_time>
		<op_time_function name="节点_时间计算13" expand="yes" expand_stat="1">
			<comment name="功能" rw_stat="read">time_fun(cmd, unit, time1, val)</comment>
			<varInt name="操作类型" kinds="reference" reference_type="type_time_cmd" delete="no">3</varInt>
			<varInt name="时间单位" kinds="reference" reference_type="type_time_unit" delete="no">6</varInt>
			<param_collect name="参数1" expand="yes" expand_stat="1" delete="no">
				<type name="参数1类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="参数1值" kinds="string" delete="no" restrict="type">var_compile_tm</var>
			</param_collect>
			<param_collect name="参数2" expand="yes" expand_stat="1" delete="no">
				<type name="参数2类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="参数2值" kinds="string" delete="no" restrict="type">none</var>
			</param_collect>
		</op_time_function>
		<op_print name="节点_打印17" create_template="create_input_param" auto_index="3" expand_stat="0">
			<comment name="功能" rw_stat="read" expand_stat="1">print(...)</comment>
			<param_collect name="参数0" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">从发布到现在间隔</var>
			</param_collect>
			<param_collect name="参数1" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var kinds="string" delete="no" restrict="type">none</var>
			</param_collect>
			<param_collect name="参数2" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">星期</var>
			</param_collect>
		</op_print>
		<exception_catch_block name="节点_异常处理19" create_template="create_list1" expand_list="comment" auto_index="1" expand_stat="0">
			<comment name="功能说明" rw_stat="read">catch{}</comment>
			<op_print name="节点_打印0" create_template="create_input_param" auto_index="1" expand_stat="1">
				<comment name="功能说明" rw_stat="read" expand_stat="1">print(...)</comment>
				<param_collect name="参数0" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var kinds="string" delete="no" restrict="type">捕获了异常</var>
				</param_collect>
			</op_print>
		</exception_catch_block>
		<function_init_block name="block_加载时运行20" create_template="create_list2" expand_list="condition" auto_index="1" expand_stat="0">
			<comment name="功能说明" rw_stat="read">脚本被加载到内存是运行这部分代码</comment>
			<op_log name="节点_日志0" create_template="create_input_param" auto_index="1" expand_list="comment" expand_stat="0">
				<comment name="功能说明" rw_stat="read">log(...)</comment>
				<param_collect name="参数0" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var kinds="string" delete="no" restrict="type">加载完成!</var>
				</param_collect>
			</op_log>
		</function_init_block>
		<op_call_func name="节点_调用函数21" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="1">
			<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
			<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_broad_syste_notice&_dispname=系统广播(内容,...)</func_name>
			<param_collect name="参数0" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">hello world</var>
			</param_collect>
		</op_call_func>
	</func_node>
	<func_node name="function_role_uplv" create_template="create_list1" auto_index="33" expand_list="comment,op_setflag" enable_drag="yes" expand_stat="0">
		<comment>角色升级(new_level)</comment>
		<op_read_table name="节点_读取升级属性奖励" expand="yes">
			<comment name="功能" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">uplevel_award.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">属性加</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_add name="节点_加属性" expand="yes" expand_stat="1">
			<comment name="功能" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
		<op_read_table name="节点_读取减的属性" expand="yes">
			<comment name="功能" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">uplevel_award.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">属性减</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_sub name="节点_升级减少的属性" expand="yes" expand_stat="1">
			<comment name="功能" rw_stat="read">op_sub(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_sub>
		<op_read_table name="节点_读取升级被修改的属性" expand="yes">
			<comment name="功能" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">uplevel_award.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">属性修改</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_write name="节点_升级修改属性" expand="yes">
			<comment name="功能" rw_stat="read">op_write(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_write>
		<op_read_table name="节点_读取表格_卡牌奖励" expand="yes">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">uplevel_award.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">获得英雄卡牌</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_add name="节点_增加_卡牌" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=card&_dispname=卡牌</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
		<op_read_table name="节点_读取表格_技能奖励" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">uplevel_award.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">获得技能</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_add name="节点_增加_技能" expand="yes">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=skill&_dispname=技能</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
		<op_read_table name="节点_读取表格_增加物品" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">uplevel_award.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">奖励物品</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_add name="节点_增加_物品" expand="yes">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=package&_dispname=背包</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
		<op_read_table name="节点_读取表格_装备" expand="yes">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">uplevel_award.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">奖励装备</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_add name="节点_增加_装备" expand="yes">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=equip&_dispname=装备</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
		<op_print name="节点_打印11" create_template="create_input_param" auto_index="2" expand_stat="0">
			<comment name="功能" rw_stat="read" expand_stat="1">print(...)</comment>
			<param_collect name="参数0" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">角升级成功,旧等级</var>
			</param_collect>
			<param_collect name="参数1" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
				<var kinds="string" delete="no" restrict="type">1</var>
			</param_collect>
		</op_print>
		<op_operate name="节点_对象操作32" expand="yes">
			<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=role&_dispname=角色对象</aim>
			<param name="命令" kinds="string" delete="no">calcAttr</param>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
		</op_operate>
	</func_node>
	<func_node name="TIME_FUNC_TEST" create_template="create_list1" auto_index="12" expand_list="comment" enable_drag="yes" expand_stat="0">
		<comment>函数说明:时间测试()</comment>
		<apoEditorPos kinds="hide" x="-5065" y="-1338" offset_x="11081" offset_y="3132"/>
		<op_time_function name="节点_时间计算0" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">time_fun(cmd, unit, time1, val)</comment>
			<apoEditorPos kinds="hide" x="-4786" y="-1064" offset_x="0" offset_y="0"/>
			<varInt name="操作类型" kinds="reference" reference_type="type_time_cmd" delete="no">1</varInt>
			<varInt name="时间单位" kinds="reference" reference_type="type_time_unit" delete="no">5</varInt>
			<param_collect name="参数1" expand="yes" expand_stat="1" delete="no">
				<type name="参数1类型" kinds="reference" reference_type="type_data_type" delete="no">8</type>
				<var name="参数1值" kinds="string" delete="no" restrict="type">2012-2-29 23:59:00</var>
			</param_collect>
			<param_collect name="参数2" expand="yes" expand_stat="1" delete="no">
				<type name="参数2类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="参数2值" kinds="string" delete="no" restrict="type">1</var>
			</param_collect>
		</op_time_function>
		<op_print name="节点_打印1" create_template="create_input_param" auto_index="2" expand_stat="1">
			<comment name="功能说明" rw_stat="read" expand_stat="1">print(...)</comment>
			<apoEditorPos kinds="hide" x="-9787" y="-2809" offset_x="0" offset_y="0"/>
			<param_collect name="参数0" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">时间计算间隔:</var>
			</param_collect>
			<param_collect name="参数1" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
		</op_print>
	</func_node>
	<func_node name="func_cost_exp" create_template="create_list1" auto_index="5" expand_list="comment" enable_drag="yes" expand_stat="0">
		<comment>消耗经验(exp)</comment>
		<op_read name="节点_读取经验" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">op_read(aim,index_name)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">经验</var>
			</param_collect>
		</op_read>
		<op_comp name="节点_逻辑运算3" expand="yes">
			<comment name="功能说明" rw_stat="read"> 大于小于等级 </comment>
			<index name="逻辑运算" kinds="reference" reference_type="type_compare_sub_entry" delete="no">3</index>
			<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
				<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="操作数1值" kinds="string" delete="no" restrict="type">none</var>
			</param_collect>
			<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
				<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
				<var name="操作数2值" kinds="string" delete="no" restrict="type">1</var>
			</param_collect>
		</op_comp>
		<op_bool_entry name="节点_bool上一步结果分支4" expand_list="comment" expand_stat="0">
			<comment name="功能说明" rw_stat="read">if{}</comment>
			<op_sub_comp_entry name="上一步true时执行" create_template="create_list1" delete="no" comp_cond="condition" auto_index="1" expand_stat="1">
				<condition no_comp="1" kinds="hide" delete="no">1</condition>
				<op_sub name="节点_减少经验" expand="yes">
					<comment name="功能说明" rw_stat="read">op_sub(aim,index_name,value)</comment>
					<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
					<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
						<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
						<var name="索引值" kinds="string" delete="no" restrict="type">经验</var>
					</param_collect>
					<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var name="结果" kinds="string" delete="no" restrict="type">1</var>
				</op_sub>
			</op_sub_comp_entry>
			<op_sub_comp_entry name="上一步false时执行" create_template="create_list1" delete="no" comp_cond="condition" auto_index="3" expand_stat="0">
				<condition no_comp="1" kinds="hide" delete="no">0</condition>
				<op_log name="节点_日志1" create_template="create_input_param" auto_index="1" expand_list="comment" expand_stat="0">
					<comment name="功能说明" rw_stat="read">log(...)</comment>
					<param_collect name="参数0" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
						<var kinds="string" delete="no" restrict="type">经验不足</var>
					</param_collect>
				</op_log>
				<op_exit name="节点_退出2" expand="yes">
					<comment name="功能说明" rw_stat="read">op_exit(value)</comment>
					<num name="返回结果" kinds="enum" enum_value="false,true" delete="no">0</num>
				</op_exit>
			</op_sub_comp_entry>
		</op_bool_entry>
	</func_node>
	<func_node name="test_start" create_template="create_list1" auto_index="8" expand_list="comment" enable_drag="yes" expand_stat="0">
		<comment>函数说明</comment>
		<apoEditorPos kinds="hide" x="105" y="62" offset_x="346" offset_y="120"/>
		<op_get_compile_time name="节点_获得脚本编译时间1" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">get_compile_time()</comment>
			<apoEditorPos kinds="hide" x="381" y="105" offset_x="0" offset_y="0"/>
		</op_get_compile_time>
		<op_make_var name="节点_申明变量2" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
			<apoEditorPos kinds="hide" x="625" y="24" offset_x="0" offset_y="0"/>
			<param name="名字" kinds="string" delete="no">var1</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
		</op_make_var>
		<op_get_time name="节点_时间3" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">get_time()</comment>
			<apoEditorPos kinds="hide" x="931" y="33" offset_x="0" offset_y="0"/>
		</op_get_time>
		<op_log name="节点_日志0" create_template="create_input_param" auto_index="4" expand_list="comment" expand_stat="0">
			<comment name="功能说明" rw_stat="read">log(...)</comment>
			<apoEditorPos kinds="hide" x="1280" y="223" offset_x="0" offset_y="0"/>
			<param_collect name="参数0" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">server startup : compile time = </var>
			</param_collect>
			<param_collect name="参数1" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var kinds="string" delete="no" restrict="type">var1</var>
			</param_collect>
			<param_collect name="参数2" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">现在时间</var>
			</param_collect>
			<param_collect name="参数3" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
		</op_log>
	</func_node>
	<func_node name="delay_shutdown" create_template="create_list1" auto_index="12" expand_list="comment" enable_drag="yes" expand_stat="0">
		<comment>延迟关机(dely_second)</comment>
		<op_get_time name="节点_时间3" expand="yes">
			<comment name="功能说明" rw_stat="read">get_time()</comment>
		</op_get_time>
		<op_time_function name="节点_时间计算4" expand="yes">
			<comment name="功能说明" rw_stat="read">time_fun(cmd, unit, time1, val)</comment>
			<varInt name="操作类型" kinds="reference" reference_type="type_time_cmd" delete="no">1</varInt>
			<varInt name="时间单位" kinds="reference" reference_type="type_time_unit" delete="no">0</varInt>
			<param_collect name="参数1" expand="yes" expand_stat="1" delete="no">
				<type name="参数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="参数1值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<param_collect name="参数2" expand="yes" expand_stat="1" delete="no">
				<type name="参数2类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="参数2值" kinds="string" delete="no" restrict="type">60</var>
			</param_collect>
		</op_time_function>
		<op_make_var name="节点_申明变量5" expand="yes">
			<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
			<param name="名字" kinds="string" delete="no">var_close_tm</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
		</op_make_var>
		<op_add_timer name="节点_添加定时器10" create_template="create_input_param" auto_index="3" expand_list="comment,msgtype,varInt,varFloat,var,func_name" expand_stat="0">
			<comment name="功能说明" rw_stat="read">add_timer(type, tm_interval,name, function,...)</comment>
			<msgtype name="类型" kinds="enum" enum_value="局部,全局" delete="no">1</msgtype>
			<varInt name="类型" kinds="enum" enum_value="循环,一次性" delete="no">0</varInt>
			<varFloat name="间隔(s)" kinds="numeral" delete="no">10</varFloat>
			<var name="取名" kinds="string" delete="no">shutdown_notice</var>
			<func_name name="函数名" kinds="user_define" user_param="func_list" delete="no">_realval=gscript_broad_syste_notice&_dispname=系统广播(内容,...)</func_name>
			<param_collect name="参数0" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">服务器将在</var>
			</param_collect>
			<param_collect name="参数1" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var kinds="string" delete="no" restrict="type">var_close_tm</var>
			</param_collect>
			<param_collect name="参数2" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">关闭,请及时下线!</var>
			</param_collect>
		</op_add_timer>
		<op_add_timer name="节点_添加定时器11" create_template="create_input_param" auto_index="0" expand_list="comment,msgtype,varInt,varFloat,var,func_name">
			<comment name="功能说明" rw_stat="read">add_timer(type, tm_interval,name, function,...)</comment>
			<msgtype name="类型" kinds="enum" enum_value="局部,全局" delete="no">1</msgtype>
			<varInt name="类型" kinds="enum" enum_value="循环,一次性" delete="no">1</varInt>
			<varFloat name="间隔(s)" kinds="numeral" delete="no">60</varFloat>
			<var name="取名" kinds="string" delete="no">timer_shutdown_server</var>
			<func_name name="函数名" kinds="user_define" user_param="func_list" delete="no">_realval=gscript_shutdown_server&_dispname=关服()</func_name>
		</op_add_timer>
	</func_node>
	<func_node name="buy_one_item" create_template="create_list1" auto_index="11" expand_list="comment" enable_drag="yes" expand_stat="0">
		<comment>函数说明</comment>
		<exception_catch_block name="节点_异常处理1" create_template="create_list1" expand_list="comment" auto_index="0" expand_stat="1">
			<comment name="功能说明" rw_stat="read">catch{}</comment>
		</exception_catch_block>
		<op_make_var name="节点_申明变量_数量" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
			<param name="名字" kinds="string" delete="no">item_num</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="初始值" kinds="string" delete="no" restrict="type">2</var>
		</op_make_var>
		<op_read_table name="节点_读取表格0" expand="yes" expand_stat="0">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">store.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">价格</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_make_var name="节点_申明变量3" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
			<param name="名字" kinds="string" delete="no">price</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
		</op_make_var>
		<op_read_table name="节点_读取表格6" expand="yes" expand_stat="0">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">store.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">折扣</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_make_var name="节点_申明变量5" expand="yes" expand_stat="0">
			<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
			<param name="名字" kinds="string" delete="no">discount</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
		</op_make_var>
		<op_calc name="节点_公式计算价格" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">run_formulate(formulate_text)</comment>
			<param name="公式内容" kinds="string">discount * price *item_num</param>
		</op_calc>
		<op_sub name="节点_扣钱" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">op_sub(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">游戏币</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="结果" kinds="string" delete="no" restrict="type">none</var>
		</op_sub>
		<op_add name="节点_增加9" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=package&_dispname=背包</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="结果" kinds="string" delete="no" restrict="type">2</var>
		</op_add>
	</func_node>
	<func_node name="send_common_reply_msg" create_template="create_list1" auto_index="11" expand_list="comment" enable_drag="yes" expand_stat="0">
		<comment>发送通用返回消息(maxid,minId, result, value)</comment>
		<op_make_var name="节点_申明变量6" expand="yes">
			<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
			<param name="名字" kinds="string" delete="no">success</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="初始值" kinds="string" delete="no" restrict="type">3</var>
		</op_make_var>
		<op_type_transfer name="节点_类型转换8" expand_list="comment,param,index">
			<comment name="功能说明" rw_stat="read">data.convert( type )</comment>
			<param name="变量名" kinds="string" delete="no" restrict="type">success</param>
			<index name="新类型" kinds="reference" reference_type="type_data_type" delete="no">0</index>
		</op_type_transfer>
		<op_make_var name="节点_申明变量9" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
			<param name="名字" kinds="string" delete="no">result</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="初始值" kinds="string" delete="no" restrict="type">4</var>
		</op_make_var>
		<op_type_transfer name="节点_类型转换10" expand_list="comment,param,index">
			<comment name="功能说明" rw_stat="read">data.convert( type )</comment>
			<param name="变量名" kinds="string" delete="no" restrict="type">result</param>
			<index name="新类型" kinds="reference" reference_type="type_data_type" delete="no">0</index>
		</op_type_transfer>
		<op_call_func name="节点_调用函数0" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="0">
			<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
			<func_name kinds="user_define" user_param="func_list">_realval=CPP.apollo_func_send_msg&_dispname=发送消息(int:maxID,int:minId, msg_varlist...)</func_name>
			<param_collect name="参数0" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
				<var kinds="string" delete="no" restrict="type">1</var>
			</param_collect>
			<param_collect name="参数1" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
				<var kinds="string" delete="no" restrict="type">2</var>
			</param_collect>
			<param_collect name="参数2" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var kinds="string" delete="no" restrict="type">success</var>
			</param_collect>
			<param_collect name="参数3" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var kinds="string" delete="no" restrict="type">result</var>
			</param_collect>
		</op_call_func>
	</func_node>
	<func_node name="building_create_cost" create_template="create_list1" auto_index="13" expand_list="comment" enable_drag="yes" expand_stat="0">
		<comment> 建筑升级，建造消耗(typeId,level)</comment>
		<op_make_var name="节点_申明变量typeId" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
			<param name="名字" kinds="string" delete="no">typeId</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="初始值" kinds="string" delete="no" restrict="type">1</var>
		</op_make_var>
		<op_type_transfer name="节点_类型转换_short" expand_list="comment,param,index" expand_stat="1">
			<comment name="功能说明" rw_stat="read">data.convert( type )</comment>
			<param name="变量名" kinds="string" delete="no" restrict="type">typeId</param>
			<index name="新类型" kinds="reference" reference_type="type_data_type" delete="no">4</index>
		</op_type_transfer>
		<op_math_operate name="节点_数学运算_idX1000" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">+-*/</comment>
			<index kinds="enum" enum_value="+,-,*,/,sqrt,max,min,rand">2</index>
			<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
				<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="操作数1值" kinds="string" delete="no" restrict="type">1000</var>
			</param_collect>
			<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
				<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="操作数2值" kinds="string" delete="no" restrict="type">typeId</var>
			</param_collect>
		</op_math_operate>
		<op_math_operate name="节点_数学运算_add_level" expand="yes">
			<comment name="功能说明" rw_stat="read">+-*/</comment>
			<index kinds="enum" enum_value="+,-,*,/,sqrt,max,min,rand">0</index>
			<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
				<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="操作数1值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
				<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
				<var name="操作数2值" kinds="string" delete="no" restrict="type">2</var>
			</param_collect>
		</op_math_operate>
		<op_make_var name="节点_申明变量_cost_id" expand="yes">
			<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
			<param name="名字" kinds="string" delete="no">cost_id</param>
			<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
		</op_make_var>
		<op_read_table name="节点_读取表格_等级需求" expand="yes">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">buildings_upgrade.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">需要主人公等级</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">none</var>
		</op_read_table>
		<op_test name="节点_检测_角色等级" expand="yes">
			<comment name="功能说明" rw_stat="read">op_test(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">等级</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
			<var name="结果" kinds="string" delete="no" restrict="type">none</var>
		</op_test>
		<op_read_table name="节点_读取表格_建筑条件" expand="yes">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">buildings_upgrade.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">需要建筑条件</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">cost_id</var>
		</op_read_table>
		<op_test name="节点_检测_建筑等级" expand="yes">
			<comment name="功能说明" rw_stat="read">op_test(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_test>
		<op_read_table name="节点_读取表格_耗材" expand="yes" expand_stat="0">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">buildings_upgrade.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">建造或升级消耗</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">cost_id</var>
		</op_read_table>
		<op_sub name="节点_减少_属性" expand="yes">
			<comment name="功能说明" rw_stat="read">op_sub(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_sub>
		<op_print name="节点_打印12" create_template="create_input_param" auto_index="3" expand_list="comment" expand_stat="1">
			<comment name="功能说明" rw_stat="read">print(...)</comment>
			<param_collect name="参数0" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">建筑升级消耗：</var>
			</param_collect>
			<param_collect name="参数1" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var kinds="string" delete="no" restrict="type">typeId</var>
			</param_collect>
			<param_collect name="参数2" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
				<var kinds="string" delete="no" restrict="type">2</var>
			</param_collect>
		</op_print>
	</func_node>
	<func_node name="test_develop" create_template="create_list1" auto_index="3" expand_list="comment" enable_drag="yes" expand_stat="0">
		<comment>测试是否是开发版本:通过计算开发版本字符信息实现</comment>
		<op_getobj name="节点_获得其他对象_程序信息" expand="yes">
			<comment name="功能说明" rw_stat="read">get_other_object(object_name)</comment>
			<param name="对象名" kinds="string">machineInfo</param>
		</op_getobj>
		<op_call_func name="节点_调用函数_查找DEVELOP" create_template="create_input_param" auto_index="2" expand_list="comment,func_name" expand_stat="1">
			<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
			<func_name kinds="user_define" user_param="func_list">_realval=CPP.apollo_str_str&_dispname=字符串查找(str1,str2)</func_name>
			<param_collect name="参数0" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<param_collect name="参数1" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">develop</var>
			</param_collect>
		</op_call_func>
		<op_call_func name="节点_调用函数_计算字符串长度" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="1">
			<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
			<func_name kinds="user_define" user_param="func_list">_realval=CPP.apollo_str_len&_dispname=字符串长度(str1)</func_name>
			<param_collect name="参数0" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
		</op_call_func>
	</func_node>
	<func_node name="role_daily_update" create_template="create_list1" auto_index="0" expand_list="comment" enable_drag="yes" expand_stat="0">
		<comment>函数说明</comment>
		<op_read_table name="节点_读取表格3" expand="yes">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">daily_renew.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">改属性</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_write name="节点_写入4" expand="yes">
			<comment name="功能说明" rw_stat="read">op_write(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_write>
		<op_read_table name="节点_读取表格5" expand="yes">
			<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
			<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">daily_renew.xlsx</tablename>
			<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">加属性</param>
			<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="索引值" kinds="string" delete="no" restrict="type">1</var>
		</op_read_table>
		<op_add name="节点_增加6" expand="yes">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
		<op_get_time name="节点_时间2" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">get_time()</comment>
		</op_get_time>
		<op_print name="节点_打印1" create_template="create_input_param" auto_index="2" expand_list="comment" expand_stat="1">
			<comment name="功能说明" rw_stat="read">print(...)</comment>
			<param_collect name="参数0" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var kinds="string" delete="no" restrict="type">none</var>
			</param_collect>
			<param_collect name="参数1" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">角色每日更新时间</var>
			</param_collect>
		</op_print>
	</func_node>
</baseFunction>
<message_handler name="消息处理入口" delete="no" create_template="create_function_filter" auto_index="11" expand_stat="0">
	<function_filter name="建筑类消息" delete="no" create_template="create_msg_handler" auto_index="2" expand_stat="0" accept_drag_in="msg_handler_node">
		<msg_handler_node name="message_create_building" enable_drag="yes" create_template="create_list2" auto_index="22" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="1" expand_stat="1">
				<comment name="功能说明" rw_stat="read" expand_stat="1">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment" expand_stat="1">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">4</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<op_begin_affair name="节点_角色数据出错自动复原12" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号0" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数0" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_skip_error name="节点_忽略错误16" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_从dataType定义读取消息_BuildingCreate" expand="yes" expand_list="comment,var" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_fromat_message(data_type_name)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_userData_from_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<var name="类型名字" kinds="string">BuildingCreate</var>
			</op_call_func>
			<op_make_var name="节点_申明变量_createinfo" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">createinfo</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
			</op_make_var>
			<op_call_func name="节点_调用函数_消耗材料" create_template="create_input_param" auto_index="2" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">building_create_cost</func_name>
				<param_collect name="参数0" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">createinfo.id</var>
				</param_collect>
				<param_collect name="参数1" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">1</var>
				</param_collect>
			</op_call_func>
			<op_operate name="节点_对象操作_create" expand="yes">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
				<param name="命令" kinds="string" delete="no">create</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">createinfo</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_call_func name="节点_调用函数_发送结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="0">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">4</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">1</var>
				</param_collect>
				<param_collect name="参数2" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数3" expand="yes" expand_stat="0">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">createinfo.id</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_move_building" enable_drag="yes" create_template="create_list2" auto_index="15" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">4</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">2</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<op_skip_error name="节点_忽略错误" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):scropt variant not found</num>
			</op_skip_error>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="3" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号0" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数2" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="1">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">发送错误通知(errorId)</func_name>
					<param_collect name="参数0" expand="yes">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_打开事物_出错回滚14" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_call_func name="节点_从定义类型读取消息_移动信息" expand="yes" expand_list="comment,var" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_fromat_message(data_type_name)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_userData_from_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<var name="类型名字" kinds="string">BuildingMoveInfo</var>
			</op_call_func>
			<op_make_var name="节点_申明变量_move_info" expand="yes">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">move_info</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
			</op_make_var>
			<op_make_var name="节点_申明变量_building_arr" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">building_arr</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">move_info.buildings</var>
			</op_make_var>
			<op_get_arrsize name="节点_数组长度10" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">size()</comment>
				<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="数组名" kinds="string" delete="no" restrict="type">building_arr</var>
			</op_get_arrsize>
			<op_loop_entry name="节点_循环11" create_template="create_list2" expand_list="condition" auto_index="2" comp_cond="condition" expand_stat="1">
				<comment name="功能说明" rw_stat="read">loop{}</comment>
				<condition name="loop_count">
					<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</condition>
				<op_operate name="节点_对象操作_move" expand="yes">
					<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
					<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
					<param name="命令" kinds="string" delete="no">move</param>
					<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
						<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
						<var name="索引值" kinds="string" delete="no" restrict="type">building_arr[$index]</var>
					</param_collect>
					<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
				</op_operate>
			</op_loop_entry>
			<op_call_func name="节点_调用函数_发送结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="0">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">4</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">3</var>
				</param_collect>
				<param_collect name="参数2" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数3" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_building_uplevel" enable_drag="yes" create_template="create_list2" auto_index="11" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>建筑物升级消息</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">4</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">7</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号0" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数1" create_template="create_input_param" auto_index="1" expand_list="comment,func_name">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数0" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_打开事物_出错回滚6" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_call_func name="节点_读取网络数据_建筑编号" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_buildId" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">buildId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_对象操作_uplevel" expand="yes">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
				<param name="命令" kinds="string" delete="no">uplevel</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_make_var name="节点_申明变量_level" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">level</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_call_func name="节点_调用函数_uplevel_cost" create_template="create_input_param" auto_index="2" expand_list="comment,func_name" expand_stat="0">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">building_create_cost</func_name>
				<param_collect name="参数0" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
				<param_collect name="参数1" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">level</var>
				</param_collect>
			</op_call_func>
			<op_print name="节点_打印8" create_template="create_input_param" auto_index="5" expand_list="comment" expand_stat="0">
				<comment name="功能说明" rw_stat="read">print(...)</comment>
				<param_collect name="参数0" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
				<param_collect name="参数1" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var kinds="string" delete="no" restrict="type">成功升级,新等级</var>
				</param_collect>
				<param_collect name="参数4" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">level</var>
				</param_collect>
			</op_print>
		</msg_handler_node>
		<msg_handler_node name="message_building_destory" enable_drag="yes" create_template="create_list2" auto_index="4" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment" expand_stat="0">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">4</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">9</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_读取网络数据_buildId" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_buildId" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">buildId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_sub name="节点_减少_建筑" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_sub(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="结果" kinds="string" delete="no" restrict="type">0</var>
			</op_sub>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="0">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_building_switch_weapon" enable_drag="yes" create_template="create_list2" auto_index="6" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>切Q武器</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="0">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">4</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0xb</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_读取网络数据_buildId" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_buildId" expand="yes">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">buildId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_call_func name="节点_读取网络数据_weaponType" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">4</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_weaponType" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">weaponType</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_对象操作_switchWeapon" expand="yes">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
				<param name="命令" kinds="string" delete="no">switchWeapon</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">weaponType</var>
			</op_operate>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">4</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0xc</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_show_non_building" enable_drag="yes" create_template="create_list2" auto_index="4" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>摆放装饰类物品</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">4</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0xf</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_从dataType定义读取消息_buildCreateInfo" expand="yes" expand_list="comment,var" expand_stat="0">
				<comment name="功能说明" rw_stat="read">function_read_fromat_message(data_type_name)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_userData_from_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<var name="类型名字" kinds="string">BuildingCreate</var>
			</op_call_func>
			<op_make_var name="节点_申明变量_buildInfo" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">buildInfo</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_sub name="节点_减少_背包中物品" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_sub(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=package&_dispname=背包</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">buildInfo.id</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="结果" kinds="string" delete="no" restrict="type">1</var>
			</op_sub>
			<op_operate name="节点_对象操作_create" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
				<param name="命令" kinds="string" delete="no">create</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">buildInfo</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">4</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0x10</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">buildInfo.id</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_back_non_building" enable_drag="yes" create_template="create_list2" auto_index="7" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">4</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0x11</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_读取网络数据_buildId" expand="yes" expand_list="comment">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_buildId" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">buildId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_sub name="节点_减少_building" expand="yes">
				<comment name="功能说明" rw_stat="read">op_sub(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="结果" kinds="string" delete="no" restrict="type">1</var>
			</op_sub>
			<op_type_transfer name="节点_类型转换_to_type_id" expand_list="comment,param,index" expand_stat="1">
				<comment name="功能说明" rw_stat="read">data.convert( type )</comment>
				<param name="变量名" kinds="string" delete="no" restrict="type">buildId</param>
				<index name="新类型" kinds="reference" reference_type="type_data_type" delete="no">4</index>
			</op_type_transfer>
			<op_add name="节点_增加_背包_ITEM" expand="yes">
				<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=package&_dispname=背包</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="结果" kinds="string" delete="no" restrict="type">1</var>
			</op_add>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="0">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">4</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0x12</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_handler_view_home_output" enable_drag="yes" create_template="create_list2" auto_index="1" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">4</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0x13</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="1">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_operate name="节点_对象操作0" expand="yes">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
				<param name="命令" kinds="string" delete="no">viewOutput</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
		</msg_handler_node>
		<msg_handler_node name="message_handler_get_build_output" enable_drag="yes" create_template="create_list2" auto_index="5" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="0">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">4</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0x15</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_读取网络数据_buildId" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_buildId" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">buildId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_对象操作_getOutput" expand="yes">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
				<param name="命令" kinds="string" delete="no">getOutput</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_make_var name="节点_申明变量_outVal" expand="yes">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">outVal</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_commit_affair name="节点_提交事务_写入改动数据2" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">player_commit_rollback()</comment>
			</op_commit_affair>
			<op_call_func name="节点_发送消息3" create_template="create_input_param" auto_index="2" expand_list="comment,varInt,msgtype" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_send_message(msg_id,...)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_send_msg</func_name>
				<varInt name="主消息号" kinds="numeral" delete="no">4</varInt>
				<msgtype name="次消息号" kinds="numeral" delete="no">0x16</msgtype>
				<param_collect name="参数1" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">outVal</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_handler_cancel_create" enable_drag="yes" create_template="create_list2" auto_index="2" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>取消升级或者建造</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">4</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0x18</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_读取网络数据_buildId" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_buildId" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">buildId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_对象操作_cancel" expand="yes">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
				<param name="命令" kinds="string" delete="no">cancelCreate</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="0">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">4</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0x19</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">buildId</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
	</function_filter>
	<function_filter name="卡牌类消息" delete="no" create_template="create_msg_handler" auto_index="3" expand_stat="0" accept_drag_in="msg_handler_node">
		<msg_handler_node name="message_open_card" enable_drag="yes" create_template="create_list2" auto_index="3" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="1" expand_stat="0">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">5</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">6</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="1">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_读取网络数据_cardId" expand="yes" expand_list="comment">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_cardId" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">cardId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_add name="节点_增加_card" expand="yes">
				<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=card&_dispname=卡牌</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="结果" kinds="string" delete="no" restrict="type">1</var>
			</op_add>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">5</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">7</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">cardId</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_handler_equip_on" enable_drag="yes" create_template="create_list2" auto_index="3" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read" expand_stat="1">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment" expand_stat="1">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">5</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">8</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="1">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="1">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_从dataType定义读取消息_EquipPutoff" expand="yes" expand_list="comment,var" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_fromat_message(data_type_name)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_userData_from_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<var name="类型名字" kinds="string">EquipPuton</var>
			</op_call_func>
			<op_make_var name="节点_申明变量_equipOn" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">equipOn</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_执行命令_卡牌升级" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_test(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=card&_dispname=卡牌</aim>
				<param name="命令" kinds="string" delete="no">equipOn</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">equipOn</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_commit_affair name="节点_提交事物_发送处理结果前提交" expand="yes">
				<comment name="功能说明" rw_stat="read">player_commit_rollback()</comment>
			</op_commit_affair>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">5</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">9</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_handler_equip_off" enable_drag="yes" create_template="create_list2" auto_index="3" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="0">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">5</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0xa</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_从dataType定义读取消息_EquipOff" expand="yes" expand_list="comment,var" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_fromat_message(data_type_name)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_userData_from_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<var name="类型名字" kinds="string">EquipPutoff</var>
			</op_call_func>
			<op_make_var name="节点_申明变量_equipOff" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">equipOff</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_执行命令_equip_off" expand="yes">
				<comment name="功能说明" rw_stat="read">op_test(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=card&_dispname=卡牌</aim>
				<param name="命令" kinds="string" delete="no">equipOff</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">equipOff</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_commit_affair name="节点_提交事物_写入改动数据1" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_commit_rollback()</comment>
			</op_commit_affair>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="0">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">5</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0xb</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_handler_card_parts_strength" enable_drag="yes" create_template="create_list2" auto_index="7" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read" expand_stat="1">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment" expand_stat="1">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">5</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0xc</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_读取网络数据0" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_cardId" expand="yes">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">cardId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_call_func name="节点_读取网络数据_partIndex" expand="yes" expand_list="comment" expand_stat="0">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">3</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_partIndex" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">partIndex</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_执行命令_强化" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=card&_dispname=卡牌</aim>
				<param name="命令" kinds="string" delete="no">strengthen</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">cardId</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">partIndex</var>
			</op_operate>
			<op_commit_affair name="节点_提交事务_写入改动数据5" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">player_commit_rollback()</comment>
			</op_commit_affair>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">5</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0xd</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">cardId</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_handler_upstars" enable_drag="yes" create_template="create_list2" auto_index="4" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">5</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0xe</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_从dataType定义读取消息3" expand="yes" expand_list="comment,var" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_fromat_message(data_type_name)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_userData_from_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<var name="类型名字" kinds="string">CardUpstartReq</var>
			</op_call_func>
			<op_make_var name="节点_申明变量_upStarReq" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">upStarReq</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_执行命令_upstar" expand="yes">
				<comment name="功能说明" rw_stat="read">op_test(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=card&_dispname=卡牌</aim>
				<param name="命令" kinds="string" delete="no">upstar</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">upStarReq</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_commit_affair name="节点_提交事务_写入改动数据2" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_commit_rollback()</comment>
			</op_commit_affair>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">5</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0xf</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">upStarReq.cardId</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_handler_soldier_uplevel" enable_drag="yes" create_template="create_list2" auto_index="10" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc> 兵种升级</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">5</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0x13</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="1">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_读取网络数据_sodierId" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_soldierId" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">soldierId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_对象操作_uplevel" expand="yes">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=soldier&_dispname=兵种</aim>
				<param name="命令" kinds="string" delete="no">upLevel</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">soldierId</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_make_var name="节点_申明变量_lvId" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">lvId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_read_table name="节点_读取表格_dataType" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
				<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">army.xlsx</tablename>
				<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">数据模板类型</param>
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">soldierId</var>
			</op_read_table>
			<op_math_operate name="节点_数学运算*1000" expand="yes">
				<comment name="功能说明" rw_stat="read">+-*/</comment>
				<index kinds="enum" enum_value="+,-,*,/,sqrt,max,min,rand">2</index>
				<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
					<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="操作数1值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
					<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var name="操作数2值" kinds="string" delete="no" restrict="type">1000</var>
				</param_collect>
			</op_math_operate>
			<op_math_operate name="节点_数学运算_add_lvdata" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">+-*/</comment>
				<index kinds="enum" enum_value="+,-,*,/,sqrt,max,min,rand">0</index>
				<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
					<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="操作数1值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
					<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="操作数2值" kinds="string" delete="no" restrict="type">lvId</var>
				</param_collect>
			</op_math_operate>
			<op_read_table name="节点_读取表格_cost_stuff" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
				<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">army_lvdata.xlsx</tablename>
				<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">升级材料</param>
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</op_read_table>
			<op_sub name="节点_减少_消耗材料" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">op_sub(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=role&_dispname=角色对象</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="结果" kinds="string" delete="no" restrict="type">0</var>
			</op_sub>
			<op_commit_affair name="节点_提交事务_写入改动数据9" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_commit_rollback()</comment>
			</op_commit_affair>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">5</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0x14</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">soldierId</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_handler_equip_strength" enable_drag="yes" create_template="create_list2" auto_index="8" expand_list="comment" expand_stat="1">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">5</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0x15</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_读取网络数据_equipId" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_equipId" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">equipId</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_对象操作_uplevel" expand="yes">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=equip&_dispname=装备</aim>
				<param name="命令" kinds="string" delete="no">uplevel</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">equipId</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_make_var name="节点_申明变量_level" expand="yes">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">level</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_type_transfer name="节点_类型转换_getTypeId" expand_list="comment,param,index">
				<comment name="功能说明" rw_stat="read">data.convert( type )</comment>
				<param name="变量名" kinds="string" delete="no" restrict="type">equipId</param>
				<index name="新类型" kinds="reference" reference_type="type_data_type" delete="no">4</index>
			</op_type_transfer>
			<op_math_operate name="节点_数学运算X1000" expand="yes">
				<comment name="功能说明" rw_stat="read">+-*/</comment>
				<index kinds="enum" enum_value="+,-,*,/,sqrt,max,min,rand">2</index>
				<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
					<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="操作数1值" kinds="string" delete="no" restrict="type">equipId</var>
				</param_collect>
				<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
					<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var name="操作数2值" kinds="string" delete="no" restrict="type">1000</var>
				</param_collect>
			</op_math_operate>
			<op_math_operate name="节点_数学运算+level" expand="yes">
				<comment name="功能说明" rw_stat="read">+-*/</comment>
				<index kinds="enum" enum_value="+,-,*,/,sqrt,max,min,rand">0</index>
				<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
					<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="操作数1值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
					<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="操作数2值" kinds="string" delete="no" restrict="type">level</var>
				</param_collect>
			</op_math_operate>
			<op_read_table name="节点_读取表_花费" expand="yes">
				<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
				<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">equip_strengthen.xlsx</tablename>
				<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">花费</param>
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</op_read_table>
			<op_sub name="节点_减少_消耗" expand="yes">
				<comment name="功能说明" rw_stat="read">op_sub(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=role&_dispname=角色对象</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="结果" kinds="string" delete="no" restrict="type">0</var>
			</op_sub>
			<op_call_func name="节点_最后_发送处理结果" create_template="create_input_param" auto_index="4" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">send_common_reply_msg</func_name>
				<param_collect name="参数_主消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">5</var>
				</param_collect>
				<param_collect name="参数_次消息号" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0x16</var>
				</param_collect>
				<param_collect name="参数_是否成功" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数_处理参数" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">equipId</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
	</function_filter>
	<function_filter name="其他消息" delete="no" create_template="create_msg_handler" auto_index="1" expand_stat="0" accept_drag_in="msg_handler_node">
		<msg_handler_node name="message_mall_buy" enable_drag="yes" create_template="create_list2" auto_index="9" expand_list="comment,op_setflag,install_msg_id,msg_privilege" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理函数</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">8</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<op_begin_affair name="节点_角色数据出错自动复原4" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<exception_catch_block name="节点_异常处理5" create_template="create_list1" expand_list="comment" auto_index="1" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_print name="节点_打印0" create_template="create_input_param" auto_index="1" expand_stat="0">
					<comment name="功能说明" rw_stat="read" expand_stat="1">print(...)</comment>
					<param_collect name="参数0" expand="yes">
						<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
						<var kinds="string" delete="no" restrict="type">购买物品失败</var>
					</param_collect>
				</op_print>
			</exception_catch_block>
			<op_call_func name="节点_读取网络数据0" expand="yes">
				<comment name="功能" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_itemid" expand="yes" expand_stat="1">
				<comment name="功能" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">var_item_id</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
			</op_make_var>
			<op_call_func name="节点_读取网络数据2" expand="yes" expand_stat="0">
				<comment name="功能" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">4</msgtype>
				</param_collect>
			</op_call_func>
			<op_call_func name="节点_调用函数_购买" create_template="create_input_param" auto_index="2" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">buy_one_item</func_name>
				<param_collect name="参数0" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var_item_id</var>
				</param_collect>
				<param_collect name="参数1" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var kinds="string" delete="no" restrict="type">none</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_handler_useItem" enable_drag="yes" create_template="create_list2" auto_index="14" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">6</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">6</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数_send_error" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数_错误号" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_begin_affair name="节点_出错时回滚角色数据" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_skip_error name="节点_忽略错误_for_test" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">skip_error(value)</comment>
				<num name="错误类型" kinds="user_define" user_param="error_list" delete="no">_realval=47&_dispname=system(NDERR_VARIANT_NOT_EXIST):variant not found</num>
			</op_skip_error>
			<op_call_func name="节点_从dataType定义读取消息_UseItemReq" expand="yes" expand_list="comment,var" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_fromat_message(data_type_name)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_userData_from_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<var name="类型名字" kinds="string">UseItemReq</var>
			</op_call_func>
			<op_make_var name="节点_申明变量_useInfo" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">useInfo</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_sub name="节点_减少_物品" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">op_sub(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=package&_dispname=背包</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">useInfo.itemId</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="结果" kinds="string" delete="no" restrict="type">useInfo.number</var>
			</op_sub>
			<op_make_var name="节点_申明变量_itemType" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">itemType</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">useInfo.itemId</var>
			</op_make_var>
			<op_type_transfer name="节点_类型转换_type" expand_list="comment,param,index" expand_stat="0">
				<comment name="功能说明" rw_stat="read">data.convert( type )</comment>
				<param name="变量名" kinds="string" delete="no" restrict="type">itemType</param>
				<index name="新类型" kinds="reference" reference_type="type_data_type" delete="no">4</index>
			</op_type_transfer>
			<op_read_table name="节点_读取表格_使用类型" expand="yes" expand_stat="0">
				<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
				<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">item.xlsx</tablename>
				<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">使用类型</param>
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">itemType</var>
			</op_read_table>
			<steps_collection name="节点_数值比较分支_给卡牌" auto_index="0" expand_stat="1">
				<op_comp name="比较运行" expand="yes" expand_stat="1">
					<comment name="功能说明" rw_stat="read"> 大于小于等级 </comment>
					<index name="逻辑运算" kinds="reference" reference_type="type_compare_sub_entry" delete="no">1</index>
					<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
						<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var name="操作数1值" kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
					<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
						<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
						<var name="操作数2值" kinds="string" delete="no" restrict="type">1</var>
					</param_collect>
				</op_comp>
				<op_bool_entry name="比较成功就执行" expand_stat="0">
					<op_sub_comp_entry name="执行块" create_template="create_list1" delete="no" comp_cond="condition" auto_index="6" expand_stat="1">
						<condition no_comp="1" kinds="hide" delete="no">1</condition>
						<op_read_table name="节点_读取表格1" expand="yes" expand_stat="0">
							<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
							<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">item.xlsx</tablename>
							<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">卡牌经验</param>
							<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
							<var name="索引值" kinds="string" delete="no" restrict="type">itemType</var>
						</op_read_table>
						<op_math_operate name="节点_数学运算4" expand="yes">
							<comment name="功能说明" rw_stat="read">+-*/</comment>
							<index kinds="enum" enum_value="+,-,*,/,sqrt,max,min,rand">2</index>
							<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
								<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
								<var name="操作数1值" kinds="string" delete="no" restrict="type">0</var>
							</param_collect>
							<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
								<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
								<var name="操作数2值" kinds="string" delete="no" restrict="type">useInfo.number</var>
							</param_collect>
						</op_math_operate>
						<op_operate name="节点_执行命令5" expand="yes">
							<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
							<aim kinds="user_define" user_param="internal_object">_realval=card&_dispname=卡牌</aim>
							<param name="命令" kinds="string" delete="no">addExp</param>
							<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
								<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
								<var name="索引值" kinds="string" delete="no" restrict="type">useInfo.cardId</var>
							</param_collect>
							<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
							<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
						</op_operate>
					</op_sub_comp_entry>
					<op_sub_comp_entry name="上一步false时执行" kinds="hide" create_template="create_list1" delete="no" comp_cond="condition" auto_index="0">
						<condition no_comp="1" kinds="hide" delete="no">0</condition>
					</op_sub_comp_entry>
				</op_bool_entry>
			</steps_collection>
			<steps_collection name="节点_数值比较分支_给玩家" auto_index="0" expand_stat="1">
				<op_comp name="比较运行" expand="yes" expand_stat="1">
					<comment name="功能说明" rw_stat="read"> 大于小于等级 </comment>
					<index name="逻辑运算" kinds="reference" reference_type="type_compare_sub_entry" delete="no">1</index>
					<param_collect name="操作数1" expand="yes" expand_stat="1" delete="no">
						<type name="操作数1类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var name="操作数1值" kinds="string" delete="no" restrict="type">0</var>
					</param_collect>
					<param_collect name="操作数2" expand="yes" expand_stat="1" delete="no">
						<type name="操作数2类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
						<var name="操作数2值" kinds="string" delete="no" restrict="type">2</var>
					</param_collect>
				</op_comp>
				<op_bool_entry name="比较成功就执行" expand_stat="1">
					<op_sub_comp_entry name="执行块" create_template="create_list1" delete="no" comp_cond="condition" auto_index="6" expand_stat="1">
						<condition no_comp="1" kinds="hide" delete="no">1</condition>
						<op_read_table name="节点_读取表格0" expand="yes" expand_stat="1">
							<comment name="功能说明" rw_stat="read">function:read_excel_table(table,col, index)</comment>
							<tablename name="excel表" kinds="user_define" user_param="dbl_excel" delete="no">item.xlsx</tablename>
							<param name="列名" kinds="user_define" user_param="dbl_excel_col" delete="no">获得属性</param>
							<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
							<var name="索引值" kinds="string" delete="no" restrict="type">itemType</var>
						</op_read_table>
						<op_loop_entry name="节点_循环4" create_template="create_list2" expand_list="condition" auto_index="1" comp_cond="condition" expand_stat="0">
							<comment name="功能说明" rw_stat="read">loop{}</comment>
							<condition name="loop_count">
								<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
								<var kinds="string" delete="no" restrict="type">useInfo.number</var>
							</condition>
							<op_add name="节点_增加_玩家属性" expand="yes">
								<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
								<aim kinds="user_define" user_param="internal_object">_realval=role&_dispname=角色对象</aim>
								<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
									<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
									<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
								</param_collect>
								<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
								<var name="结果" kinds="string" delete="no" restrict="type">0</var>
							</op_add>
						</op_loop_entry>
						<op_log name="节点_日志5" create_template="create_input_param" auto_index="4" expand_list="comment" expand_stat="0">
							<comment name="功能说明" rw_stat="read">log(...)</comment>
							<param_collect name="参数0" expand="yes" expand_stat="1">
								<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
								<var kinds="string" delete="no" restrict="type">玩使用物品:</var>
							</param_collect>
							<param_collect name="参数1" expand="yes">
								<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
								<var kinds="string" delete="no" restrict="type">itemType</var>
							</param_collect>
							<param_collect name="参数2" expand="yes">
								<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
								<var kinds="string" delete="no" restrict="type">次数</var>
							</param_collect>
							<param_collect name="参数3" expand="yes">
								<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
								<var kinds="string" delete="no" restrict="type">useInfo.number</var>
							</param_collect>
						</op_log>
					</op_sub_comp_entry>
					<op_sub_comp_entry name="上一步false时执行" kinds="hide" create_template="create_list1" delete="no" comp_cond="condition" auto_index="0">
						<condition no_comp="1" kinds="hide" delete="no">0</condition>
					</op_sub_comp_entry>
				</op_bool_entry>
			</steps_collection>
			<op_commit_affair name="节点_提交事务_写入改动数据12" expand="yes">
				<comment name="功能说明" rw_stat="read">player_commit_rollback()</comment>
			</op_commit_affair>
			<op_call_func name="节点_调用函数_发送掉落包消息" create_template="create_input_param" auto_index="4" expand_list="comment,func_name">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">_realval=CPP.apollo_func_drop_msg&_dispname=发送掉落包(maxid,minid, ...)</func_name>
				<param_collect name="参数0" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">6</var>
				</param_collect>
				<param_collect name="参数1" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">7</var>
				</param_collect>
				<param_collect name="参数2" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<param_collect name="参数3" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">useInfo.itemId</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
	</function_filter>
	<function_filter name="gm_消息类" delete="no" create_template="create_msg_handler" auto_index="1" expand_stat="0" accept_drag_in="msg_handler_node">
		<msg_handler_node name="message_GM_ADD_EXP" enable_drag="yes" create_template="create_list2" auto_index="13" expand_list="comment,install_msg_id,msg_privilege" expand_stat="0" preFillCmd="check_timeout">
			<op_begin_affair name="节点_角色数据出错自动复原10" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<comment name="函数说明" expand="yes">
				<desc>消息处理函数</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
			</exception_catch_block>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="7" expand_stat="0">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_调用函数_get_develop" create_template="create_input_param" auto_index="0" expand_list="comment,func_name">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">test_develop</func_name>
				</op_call_func>
				<op_check_valide name="节点_检测_是否是开发版本" expand_list="comment">
					<comment name="功能说明" rw_stat="read">check_last_return_value_is_valid()</comment>
				</op_check_valide>
				<op_error_short_jump name="节点_正式版本退出" expand_list="comment">
					<comment name="功能说明" rw_stat="read">break when last false</comment>
					<jumpOffset kinds="hide" delete="no">0</jumpOffset>
				</op_error_short_jump>
				<op_call_func name="节点_安装消息处理器6" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">7</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">3</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<op_call_func name="节点_读取网络数据4" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量8" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">var1</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_operate name="节点_执行命令12" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=role&_dispname=角色对象</aim>
				<param name="命令" kinds="string" delete="no">addExp</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_operate name="节点_对象操作_getname" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=role&_dispname=角色对象</aim>
				<param name="命令" kinds="string" delete="no">getName</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_log name="节点_日志6" create_template="create_input_param" auto_index="3" expand_list="comment" expand_stat="0">
				<comment name="功能说明" rw_stat="read">log(...)</comment>
				<param_collect name="参数0" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var kinds="string" delete="no" restrict="type">给玩家加经验 </var>
				</param_collect>
				<param_collect name="参数1" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var kinds="string" delete="no" restrict="type">none</var>
				</param_collect>
				<param_collect name="参数2" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var1</var>
				</param_collect>
			</op_log>
		</msg_handler_node>
		<msg_handler_node name="message_set_level" enable_drag="yes" create_template="create_list2" auto_index="8" expand_list="comment,install_msg_id,msg_privilege" expand_stat="0">
			<op_begin_affair name="节点_角色数据出错自动复原7" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<comment name="函数说明" expand="yes">
				<desc>消息处理函数</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
			</exception_catch_block>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="5" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_调用函数_get_develop" create_template="create_input_param" auto_index="0" expand_list="comment,func_name">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">test_develop</func_name>
				</op_call_func>
				<op_check_valide name="节点_检测_是否是开发版本" expand_list="comment">
					<comment name="功能说明" rw_stat="read">check_last_return_value_is_valid()</comment>
				</op_check_valide>
				<op_error_short_jump name="节点_正式版本退出" expand_list="comment">
					<comment name="功能说明" rw_stat="read">break when last false</comment>
					<jumpOffset kinds="hide" delete="no">0</jumpOffset>
				</op_error_short_jump>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">7</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">4</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<op_call_func name="节点_读取网络数据0" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_声明等级变量" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">var1</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
			</op_make_var>
			<op_write name="节点_写入6" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_write(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">等级</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
				<var name="结果" kinds="string" delete="no" restrict="type">var1</var>
			</op_write>
			<op_sendevent name="节点_产生事件5" create_template="create_input_param" auto_index="2" expand_stat="1">
				<comment name="功能说明" rw_stat="read" expand_stat="1">generate_event(event_id)</comment>
				<varInt name="事件名" kinds="user_define" user_param="event_list" delete="no" expand_stat="1">_realval=9&_dispname=升级(player, newlevel)</varInt>
				<param_collect name="参数0" expand="yes" expand_stat="0">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">1</var>
				</param_collect>
				<param_collect name="参数1" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var1</var>
				</param_collect>
			</op_sendevent>
			<op_operate name="节点_对象操作_getname" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=role&_dispname=角色对象</aim>
				<param name="命令" kinds="string" delete="no">getName</param>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
			</op_operate>
			<op_log name="节点_日志3" create_template="create_input_param" auto_index="3" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">log(...)</comment>
				<param_collect name="参数0" expand="yes" expand_stat="0">
					<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var kinds="string" delete="no" restrict="type">none</var>
				</param_collect>
				<param_collect name="参数1" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var kinds="string" delete="no" restrict="type">用GM命令升级,新等级:</var>
				</param_collect>
				<param_collect name="参数2" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var1</var>
				</param_collect>
			</op_log>
		</msg_handler_node>
		<msg_handler_node name="message_GM_shutdow" enable_drag="yes" create_template="create_list2" auto_index="1" expand_list="comment,install_msg_id,msg_privilege" expand_stat="0">
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
			</exception_catch_block>
			<comment name="函数说明" expand="yes">
				<desc>消息处理函数</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">7</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">2</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<op_call_func name="节点_调用函数0" create_template="create_input_param" auto_index="0" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">delay_shutdown</func_name>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_GM_SET_TIME" enable_drag="yes" create_template="create_list2" auto_index="5" expand_list="comment,install_msg_id,msg_privilege" expand_stat="0">
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="0" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
			</exception_catch_block>
			<comment name="函数说明" expand="yes">
				<desc>消息处理函数</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="5" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_调用函数_get_develop" create_template="create_input_param" auto_index="0" expand_list="comment,func_name">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">test_develop</func_name>
				</op_call_func>
				<op_check_valide name="节点_检测_是否是开发版本" expand_list="comment">
					<comment name="功能说明" rw_stat="read">check_last_return_value_is_valid()</comment>
				</op_check_valide>
				<op_error_short_jump name="节点_正式版本退出" expand_list="comment">
					<comment name="功能说明" rw_stat="read">break when last false</comment>
					<jumpOffset kinds="hide" delete="no">0</jumpOffset>
				</op_error_short_jump>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">7</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">5</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<op_call_func name="节点_读取网络数据0" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量1" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">var1</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
			</op_make_var>
			<op_call_func name="节点_读取网络数据2" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量3" expand="yes">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">var2</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
			</op_make_var>
			<op_call_func name="节点_调用函数4" create_template="create_input_param" auto_index="2" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">_realval=apollo_func_change_time&_dispname=修改服务器时间(int:add_hours, int:add_minutes)</func_name>
				<param_collect name="参数0" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var1</var>
				</param_collect>
				<param_collect name="参数1" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var2</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_gm_give_item" enable_drag="yes" create_template="create_list2" auto_index="6" expand_list="comment,install_msg_id,msg_privilege" expand_stat="0">
			<op_begin_affair name="节点_角色数据出错自动复原5" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<comment name="函数说明" expand="yes">
				<desc>消息处理函数</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
			</exception_catch_block>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="5" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_调用函数_get_develop" create_template="create_input_param" auto_index="0" expand_list="comment,func_name">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">test_develop</func_name>
				</op_call_func>
				<op_check_valide name="节点_检测_是否是开发版本" expand_list="comment">
					<comment name="功能说明" rw_stat="read">check_last_return_value_is_valid()</comment>
				</op_check_valide>
				<op_error_short_jump name="节点_正式版本退出" expand_list="comment">
					<comment name="功能说明" rw_stat="read">break when last false</comment>
					<jumpOffset kinds="hide" delete="no">0</jumpOffset>
				</op_error_short_jump>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">7</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">6</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<op_call_func name="节点_读取网络数据0" expand="yes" expand_list="comment" expand_stat="0">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_物品id" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">item_id</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
			</op_make_var>
			<op_call_func name="节点_读取网络数据3" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_add name="节点_增加_物品" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=role&_dispname=角色对象</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">item_id</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="结果" kinds="string" delete="no" restrict="type">none</var>
			</op_add>
		</msg_handler_node>
		<msg_handler_node name="message_gm_add_attr" enable_drag="yes" create_template="create_list2" auto_index="14" expand_list="comment,install_msg_id,msg_privilege" expand_stat="0">
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="0">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号0" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数1" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数0" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<comment name="函数说明" expand="yes">
				<desc>消息处理函数</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="5" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_调用函数_get_develop" create_template="create_input_param" auto_index="0" expand_list="comment,func_name">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">test_develop</func_name>
				</op_call_func>
				<op_check_valide name="节点_检测_是否是开发版本" expand_list="comment">
					<comment name="功能说明" rw_stat="read">check_last_return_value_is_valid()</comment>
				</op_check_valide>
				<op_error_short_jump name="节点_正式版本退出" expand_list="comment">
					<comment name="功能说明" rw_stat="read">break when last false</comment>
					<jumpOffset kinds="hide" delete="no">0</jumpOffset>
				</op_error_short_jump>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">7</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">8</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<op_call_func name="节点_读取消息属性ID" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">2</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_属性ID" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">var_attr_name</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_call_func name="节点_读取消息属性值" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">1</msgtype>
				</param_collect>
			</op_call_func>
			<op_add name="节点_增加3" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">var_attr_name</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="结果" kinds="string" delete="no" restrict="type">0</var>
			</op_add>
			<op_read name="节点_读取4" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_read(aim,index_name)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">var_attr_name</var>
				</param_collect>
			</op_read>
			<op_make_var name="节点_申明变量8" expand="yes">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">var_new</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">0</var>
			</op_make_var>
			<op_type_transfer name="节点_类型转换_to_float" expand_list="comment,param,index">
				<comment name="功能说明" rw_stat="read">data.convert( type )</comment>
				<param name="变量名" kinds="string" delete="no" restrict="type">var_new</param>
				<index name="新类型" kinds="reference" reference_type="type_data_type" delete="no">1</index>
			</op_type_transfer>
			<op_log name="节点_日志6" create_template="create_input_param" auto_index="4" expand_list="comment" expand_stat="0">
				<comment name="功能说明" rw_stat="read">log(...)</comment>
				<param_collect name="参数0" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var kinds="string" delete="no" restrict="type">修改属性name=</var>
				</param_collect>
				<param_collect name="参数1" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var_attr_name</var>
				</param_collect>
				<param_collect name="参数2" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var kinds="string" delete="no" restrict="type">新值</var>
				</param_collect>
				<param_collect name="参数3" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var_new</var>
				</param_collect>
			</op_log>
			<op_call_func name="节点_发送消息12" create_template="create_input_param" auto_index="2" expand_list="comment,varInt,msgtype" expand_stat="0">
				<comment name="功能说明" rw_stat="read">function_send_message(msg_id,...)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_send_msg</func_name>
				<varInt name="主消息号" kinds="numeral" delete="no">7</varInt>
				<msgtype name="次消息号" kinds="numeral" delete="no">9</msgtype>
				<param_collect name="参数0" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var_attr_name</var>
				</param_collect>
				<param_collect name="参数1" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">var_new</var>
				</param_collect>
			</op_call_func>
		</msg_handler_node>
		<msg_handler_node name="message_gm_add_card" enable_drag="yes" create_template="create_list2" auto_index="8" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="5" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_调用函数_get_develop" create_template="create_input_param" auto_index="0" expand_list="comment,func_name">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">test_develop</func_name>
				</op_call_func>
				<op_check_valide name="节点_检测_是否是开发版本" expand_list="comment" expand_stat="1">
					<comment name="功能说明" rw_stat="read">check_last_return_value_is_valid()</comment>
				</op_check_valide>
				<op_error_short_jump name="节点_正式版本退出" expand_list="comment">
					<comment name="功能说明" rw_stat="read">break when last false</comment>
					<jumpOffset kinds="hide" delete="no">0</jumpOffset>
				</op_error_short_jump>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">7</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">7</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="2" expand_stat="1">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
				<op_get_last_error name="节点_获得错误号0" expand="yes">
					<comment name="功能说明" rw_stat="read">get_last_error()</comment>
				</op_get_last_error>
				<op_call_func name="节点_调用函数1" create_template="create_input_param" auto_index="1" expand_list="comment,func_name">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_send_client_error&_dispname=发送错误通知(errorId)</func_name>
					<param_collect name="参数0" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
						<var kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
				</op_call_func>
			</exception_catch_block>
			<op_call_func name="节点_读取网络数据0" expand="yes" expand_list="comment">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_make_var name="节点_申明变量_cardid" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">create_variant(name,value)</comment>
				<param name="名字" kinds="string" delete="no">cardid</param>
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var name="初始值" kinds="string" delete="no" restrict="type">none</var>
			</op_make_var>
			<op_add name="节点_增加_卡牌" expand="yes">
				<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=card&_dispname=卡牌</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">none</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="结果" kinds="string" delete="no" restrict="type">1</var>
			</op_add>
			<op_log name="节点_日志6" create_template="create_input_param" auto_index="2" expand_list="comment">
				<comment name="功能说明" rw_stat="read">log(...)</comment>
				<param_collect name="参数0" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var kinds="string" delete="no" restrict="type">获得卡牌</var>
				</param_collect>
				<param_collect name="参数1" expand="yes">
					<type kinds="reference" reference_type="type_data_type" delete="no">9</type>
					<var kinds="string" delete="no" restrict="type">cardid</var>
				</param_collect>
			</op_log>
		</msg_handler_node>
		<msg_handler_node name="message_gm_add_equip" enable_drag="yes" create_template="create_list2" auto_index="4" expand_list="comment" expand_stat="0">
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="5" expand_stat="0">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_调用函数_get_develop" create_template="create_input_param" auto_index="0" expand_list="comment,func_name">
					<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
					<func_name kinds="user_define" user_param="func_list">test_develop</func_name>
				</op_call_func>
				<op_check_valide name="节点_检测_是否是开发版本" expand_list="comment">
					<comment name="功能说明" rw_stat="read">check_last_return_value_is_valid()</comment>
				</op_check_valide>
				<op_error_short_jump name="节点_正式版本退出" expand_list="comment">
					<comment name="功能说明" rw_stat="read">break when last false</comment>
					<jumpOffset kinds="hide" delete="no">0</jumpOffset>
				</op_error_short_jump>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">7</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0x14</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
			</exception_catch_block>
			<op_begin_affair name="节点_角色数据_事务" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
			</op_begin_affair>
			<op_call_func name="节点_读取网络数据_equipid" expand="yes" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">function_read_message(read_type)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_read_msg</func_name>
				<param_collect name="参数1_输入消息对象" kinds="hide" delete="no">
					<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
					<var kinds="string" delete="no" restrict="type">2</var>
				</param_collect>
				<param_collect name="读取参数" expand="yes" expand_stat="1">
					<type kinds="hide" delete="no">0</type>
					<msgtype name="读取数据类型" kinds="reference" reference_type="type_data_type" delete="no" restrict="type">0</msgtype>
				</param_collect>
			</op_call_func>
			<op_add name="节点_增加1" expand="yes" expand_stat="1">
				<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
				<aim kinds="user_define" user_param="internal_object">_realval=equip&_dispname=装备</aim>
				<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
					<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">11</type>
					<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
				</param_collect>
				<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="结果" kinds="string" delete="no" restrict="type">1</var>
			</op_add>
		</msg_handler_node>
		<msg_handler_node name="message_pvp_npc_init" enable_drag="yes" create_template="create_list2" auto_index="1" expand_list="comment,install_msg_id,msg_privilege" expand_stat="0">
			<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">catch{}</comment>
			</exception_catch_block>
			<comment name="函数说明" expand="yes">
				<desc>消息处理handle(player, message)</desc>
				<isGlobal kinds="bool">1</isGlobal>
			</comment>
			<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
				<comment name="功能说明" rw_stat="read">加载时运行</comment>
				<op_call_func name="节点_安装消息处理器" expand="yes" expand_list="comment">
					<comment name="功能说明" rw_stat="read">function_install_msg_handler(netModuleName, scriptName,maxId, minId,privilege)</comment>
					<func_name name="函数" kinds="hide" delete="no">apollo_set_message_handler</func_name>
					<var name="网络接收器" kinds="string" delete="no">listener</var>
					<param_collect name="脚本名" kinds="hide" delete="no">
						<type name="类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
						<var name="值" kinds="string" delete="no" restrict="type">none</var>
					</param_collect>
					<msgtype name="主消息" kinds="numeral" delete="no">7</msgtype>
					<msgtype name="次消息" kinds="numeral" delete="no">0xc</msgtype>
					<varInt name="权限" kinds="enum" enum_value="none,connect,login,ingame,hight" delete="no">2</varInt>
				</op_call_func>
			</function_init_block>
			<op_call_func name="节点_调用函数0" create_template="create_input_param" auto_index="0" expand_list="comment,func_name" expand_stat="1">
				<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
				<func_name kinds="user_define" user_param="func_list">_realval=CPP.gscript_init_pvp_NPC&_dispname=PVP_NPC_初始化()</func_name>
			</op_call_func>
		</msg_handler_node>
	</function_filter>
</message_handler>
<event_callback name="事件处理" delete="no" create_template="create_event_callback" auto_index="10" expand_stat="1">
	<event_callback_node name="event_create_role" enable_drag="yes" create_template="create_list2" auto_index="8" expand_list="comment,op_setflag,event_id" expand_stat="0">
		<comment name="函数说明" expand="yes">
			<desc>事件处理函数</desc>
			<isGlobal kinds="bool">1</isGlobal>
		</comment>
		<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="1" expand_stat="0">
			<comment name="功能说明" rw_stat="read">加载时运行</comment>
			<op_call_func name="节点_安装事件处理器" expand="yes" expand_list="comment">
				<comment name="功能说明" rw_stat="read">function_install_event_handler(scriptName, eventiId)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_install_event_handler</func_name>
				<param_collect name="脚本名" kinds="hide" delete="no">
					<type name="参数1类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
					<var name="参数1值" kinds="string" delete="no" restrict="type">none</var>
				</param_collect>
				<varInt name="处理事件" kinds="user_define" user_param="event_list" delete="no">_realval=5&_dispname=角色创建(player)</varInt>
			</op_call_func>
		</function_init_block>
		<op_call_func name="节点_调用函数_uplevel" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="0">
			<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
			<func_name kinds="user_define" user_param="func_list">function_role_uplv</func_name>
			<param_collect name="参数0" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var kinds="string" delete="no" restrict="type">1</var>
			</param_collect>
		</op_call_func>
		<op_operate name="节点_对象操作_设置基地建筑等级" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
			<param name="命令" kinds="string" delete="no">setLevelByRole</param>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">7</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">[11001,11002]</var>
			</param_collect>
			<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="命令值" kinds="string" delete="no" restrict="type">1</var>
		</op_operate>
		<op_operate name="节点_对象操作_init_soldier" expand="yes">
			<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=soldier&_dispname=兵种</aim>
			<param name="命令" kinds="string" delete="no">init</param>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
		</op_operate>
	</event_callback_node>
	<event_callback_node name="event_role_uplevel" enable_drag="yes" create_template="create_list2" auto_index="8" expand_list="comment,event_id" expand_stat="0">
		<comment name="函数说明" expand="yes">
			<desc>事件处理函数</desc>
			<isGlobal kinds="bool">1</isGlobal>
		</comment>
		<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="0">
			<comment name="功能说明" rw_stat="read">加载时运行</comment>
			<op_call_func name="节点_安装事件处理器" expand="yes" expand_list="comment">
				<comment name="功能说明" rw_stat="read">function_install_event_handler(scriptName, eventiId)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_install_event_handler</func_name>
				<param_collect name="脚本名" kinds="hide" delete="no">
					<type name="参数1类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
					<var name="参数1值" kinds="string" delete="no" restrict="type">none</var>
				</param_collect>
				<varInt name="处理事件" kinds="user_define" user_param="event_list" delete="no">_realval=9&_dispname=升级(player, newlevel)</varInt>
			</op_call_func>
		</function_init_block>
		<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="0" expand_stat="1">
			<comment name="功能说明" rw_stat="read">catch{}</comment>
		</exception_catch_block>
		<op_begin_affair name="节点_角色数据出错自动复原4" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">player_affair_rollback()</comment>
		</op_begin_affair>
		<op_call_func name="节点_调升级函数" create_template="create_input_param" auto_index="1" expand_list="comment,func_name" expand_stat="1">
			<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
			<func_name kinds="user_define" user_param="func_list">function_role_uplv</func_name>
			<param_collect name="参数_等级" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">10</type>
				<var kinds="string" delete="no" restrict="type">2</var>
			</param_collect>
		</op_call_func>
		<op_operate name="节点_对象操作_设置基地建筑等级" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=home&_dispname=基地</aim>
			<param name="命令" kinds="string" delete="no">setLevelByRole</param>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">7</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">[11001,11002]</var>
			</param_collect>
			<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">10</type>
			<var name="命令值" kinds="string" delete="no" restrict="type">2</var>
		</op_operate>
		<op_operate name="节点_对象操作_syncAttr" expand="yes">
			<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=role&_dispname=角色对象</aim>
			<param name="命令" kinds="string" delete="no">syncAttr</param>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
		</op_operate>
		<op_operate name="节点_对象操作_getname" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=role&_dispname=角色对象</aim>
			<param name="命令" kinds="string" delete="no">getName</param>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
		</op_operate>
		<op_log name="节点_日志2" create_template="create_input_param" auto_index="2" expand_list="comment" expand_stat="0">
			<comment name="功能说明" rw_stat="read">log(...)</comment>
			<param_collect name="参数0" expand="yes" expand_stat="1">
				<type kinds="reference" reference_type="type_data_type" delete="no">11</type>
				<var kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<param_collect name="参数1" expand="yes">
				<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var kinds="string" delete="no" restrict="type">成功升级</var>
			</param_collect>
		</op_log>
	</event_callback_node>
	<event_callback_node name="event_server_startup" enable_drag="yes" create_template="create_list2" auto_index="8" expand_list="comment,event_id" expand_stat="0">
		<comment name="函数说明" expand="yes">
			<desc>事件处理函数</desc>
			<isGlobal kinds="bool">1</isGlobal>
		</comment>
		<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="0">
			<comment name="功能说明" rw_stat="read">加载时运行</comment>
			<op_call_func name="节点_安装事件处理器" expand="yes" expand_list="comment">
				<comment name="功能说明" rw_stat="read">function_install_event_handler(scriptName, eventiId)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_install_event_handler</func_name>
				<param_collect name="脚本名" kinds="hide" delete="no">
					<type name="参数1类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
					<var name="参数1值" kinds="string" delete="no" restrict="type">none</var>
				</param_collect>
				<varInt name="处理事件" kinds="user_define" user_param="event_list" delete="no">_realval=1&_dispname=服务器启动成功()</varInt>
			</op_call_func>
		</function_init_block>
		<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="0">
			<comment name="功能说明" rw_stat="read">catch{}</comment>
		</exception_catch_block>
		<op_call_func name="节点_调用函数0" create_template="create_input_param" auto_index="0" expand_list="comment,func_name" expand_stat="1">
			<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
			<func_name kinds="user_define" user_param="func_list">test_start</func_name>
		</op_call_func>
		<op_install_event name="节点_安装事件处理器1" expand="yes">
			<comment name="功能说明" rw_stat="read">install_local_event_handler(event_id, function)</comment>
			<index name="事件名" kinds="user_define" user_param="event_list" delete="no">_realval=2&_dispname=服务器关闭()</index>
			<param name="函数名" kinds="user_define" user_param="func_list" delete="no">test_shotdown</param>
		</op_install_event>
		<op_call_func name="节点_调用函数_获得开发版信息" create_template="create_input_param" auto_index="0" expand_list="comment,func_name">
			<comment name="功能说明" rw_stat="read">call_function(name,...)</comment>
			<func_name kinds="user_define" user_param="func_list">test_develop</func_name>
		</op_call_func>
		<op_check_valide name="节点_检测结果_是否包含开发信息" expand_list="comment" expand_stat="1">
			<comment name="功能说明" rw_stat="read">check_last_return_value_is_valid()</comment>
		</op_check_valide>
		<op_bool_entry name="节点_bool上一步结果分支6" expand_list="comment" expand_stat="0">
			<comment name="功能说明" rw_stat="read">if{}</comment>
			<op_sub_comp_entry name="上一步true时执行" create_template="create_list1" delete="no" comp_cond="condition" auto_index="1" expand_stat="1">
				<condition no_comp="1" kinds="hide" delete="no">1</condition>
				<op_log name="节点_日志0" create_template="create_input_param" auto_index="1" expand_list="comment">
					<comment name="功能说明" rw_stat="read">log(...)</comment>
					<param_collect name="参数0" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
						<var kinds="string" delete="no" restrict="type">当运行的是开发版本</var>
					</param_collect>
				</op_log>
			</op_sub_comp_entry>
			<op_sub_comp_entry name="上一步false时执行" create_template="create_list1" delete="no" comp_cond="condition" auto_index="1" expand_stat="1">
				<condition no_comp="1" kinds="hide" delete="no">0</condition>
				<op_log name="节点_日志0" create_template="create_input_param" auto_index="1" expand_list="comment">
					<comment name="功能说明" rw_stat="read">log(...)</comment>
					<param_collect name="参数0" expand="yes" expand_stat="1">
						<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
						<var kinds="string" delete="no" restrict="type">当运行的是正式发布版本</var>
					</param_collect>
				</op_log>
			</op_sub_comp_entry>
		</op_bool_entry>
	</event_callback_node>
	<event_callback_node name="event_login" enable_drag="yes" create_template="create_list2" auto_index="6" expand_list="comment,event_id" expand_stat="1">
		<comment name="函数说明" expand="yes">
			<desc>事件处理函数</desc>
			<isGlobal kinds="bool">1</isGlobal>
		</comment>
		<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="0">
			<comment name="功能说明" rw_stat="read">加载时运行</comment>
			<op_call_func name="节点_安装事件处理器" expand="yes" expand_list="comment">
				<comment name="功能说明" rw_stat="read">function_install_event_handler(scriptName, eventiId)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_install_event_handler</func_name>
				<param_collect name="脚本名" kinds="hide" delete="no">
					<type name="参数1类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
					<var name="参数1值" kinds="string" delete="no" restrict="type">none</var>
				</param_collect>
				<varInt name="处理事件" kinds="user_define" user_param="event_list" delete="no">_realval=3&_dispname=角色登录(player)</varInt>
			</op_call_func>
		</function_init_block>
		<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="0">
			<comment name="功能说明" rw_stat="read">catch{}</comment>
		</exception_catch_block>
		<op_add name="节点_增加_金币" expand="yes" expand_stat="1">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">金币</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
		<op_add name="节点_增加_木材" expand="yes">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">木材</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
		<op_add name="节点_增加_石材" expand="yes">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">石材</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
		<op_add name="节点_增加_钢材" expand="yes">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">钢材</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
		<op_operate name="节点_对象操作_init_soldier" expand="yes">
			<comment name="功能说明" rw_stat="read">op_cmd(aim,cmd, index,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=soldier&_dispname=兵种</aim>
			<param name="命令" kinds="string" delete="no">init</param>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="命令索引类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">0</var>
			</param_collect>
			<type name="命令值类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="命令值" kinds="string" delete="no" restrict="type">0</var>
		</op_operate>
		<op_add name="节点_增加_体力" expand="yes">
			<comment name="功能说明" rw_stat="read">op_add(aim,index_name,value)</comment>
			<aim kinds="user_define" user_param="internal_object">_realval=attr&_dispname=角色属性</aim>
			<param_collect name="索引" expand="yes" expand_stat="1" delete="no">
				<type name="索引类型" kinds="reference" reference_type="type_data_type" delete="no">2</type>
				<var name="索引值" kinds="string" delete="no" restrict="type">体力</var>
			</param_collect>
			<type name="结果类型" kinds="reference" reference_type="type_data_type" delete="no">0</type>
			<var name="结果" kinds="string" delete="no" restrict="type">0</var>
		</op_add>
	</event_callback_node>
	<event_callback_node name="event_daily_update" enable_drag="yes" create_template="create_list2" auto_index="7" expand_list="comment,event_id" expand_stat="0">
		<comment name="函数说明" expand="yes">
			<desc>事件处理函数</desc>
			<isGlobal kinds="bool">1</isGlobal>
		</comment>
		<function_init_block name="block_加载时运行" create_template="create_list2" expand_list="condition" auto_index="0" expand_stat="1">
			<comment name="功能说明" rw_stat="read">加载时运行</comment>
			<op_call_func name="节点_安装事件处理器" expand="yes" expand_list="comment">
				<comment name="功能说明" rw_stat="read">function_install_event_handler(scriptName, eventiId)</comment>
				<func_name name="函数" kinds="hide" delete="no">apollo_func_install_event_handler</func_name>
				<param_collect name="脚本名" kinds="hide" delete="no">
					<type name="参数1类型" kinds="reference" reference_type="type_data_type" delete="no">14</type>
					<var name="参数1值" kinds="string" delete="no" restrict="type">none</var>
				</param_collect>
				<varInt name="处理事件" kinds="user_define" user_param="event_list" delete="no">_realval=14&_dispname=每日更新(player)</varInt>
			</op_call_func>
		</function_init_block>
		<exception_catch_block name="节点_异常处理" create_template="create_list1" expand_list="comment" auto_index="1" expand_stat="0">
			<comment name="功能说明" rw_stat="read">catch{}</comment>
			<op_log name="节点_日志0" create_template="create_input_param" auto_index="1" expand_list="comment" expand_stat="1">
				<comment name="功能说明" rw_stat="read">log(...)</comment>
				<param_collect name="参数0" expand="yes" expand_stat="1">
					<type kinds="reference" reference_type="type_data_type" delete="no">2</type>
					<var kinds="string" delete="no" restrict="type">执行event_daily_update错误</var>
				</param_collect>
			</op_log>
		</exception_catch_block>
	</event_callback_node>
</event_callback>
